# Ryde Waste Collection Configuration
# Copy this file to .env and fill in your details

# ==============================================================================
# REQUIRED CONFIGURATION
# ==============================================================================

# Your address in the Ryde LGA
# Example: "123 Main Street, Ryde NSW 2112"
RYDE_ADDRESS="Your Street Address, Ryde"

# MQTT Broker Configuration
# The MQTT broker hostname or IP address (usually your Home Assistant host)
# Examples: 
#   - "homeassistant.local"
#   - "192.168.1.100"  
#   - "mqtt.local"
MQTT_BROKER="homeassistant.local"

# ==============================================================================
# MQTT CONFIGURATION (Optional)
# ==============================================================================

# MQTT broker port (default: 1883 for non-TLS, 8883 for TLS)
MQTT_PORT=1883

# MQTT Authentication (REQUIRED)
# Get these from Home Assistant: Settings → People → Users → Create user for MQTT
MQTT_USER="ryde_waste"
MQTT_PASSWORD="your_secure_password_here"

# MQTT topic prefix for sensors (default: ryde_waste)
# This prefix is used for all MQTT topics
# Topics will be: {prefix}/ryde_waste_general/state, etc.
MQTT_TOPIC_PREFIX=ryde_waste

# ==============================================================================
# OPTIONAL CONFIGURATION
# ==============================================================================

# Update interval in seconds (default: 3600 = 1 hour)
# How often the container will check for new waste collection dates
# Examples:
#   - 1800  = 30 minutes
#   - 3600  = 1 hour (default, recommended)
#   - 21600 = 6 hours
#   - 43200 = 12 hours
#   - 86400 = 24 hours
# 
# Recommendation: Use 1-6 hours minimum to respect the council website
UPDATE_INTERVAL=3600

# Run update on container startup (default: true)
# Set to false to wait for the first scheduled update
RUN_ON_STARTUP=true

# Timezone for logs (default: Australia/Sydney)
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
# Examples:
#   - Australia/Sydney
#   - Australia/Melbourne
#   - Australia/Brisbane
TZ=Australia/Sydney

# Enable debug mode (default: false)
# When enabled, saves page HTML to /tmp/debug for troubleshooting
# Useful if the scraper is not finding data correctly
DEBUG=false

# ==============================================================================
# HOME ASSISTANT MQTT DISCOVERY
# ==============================================================================
# This container uses MQTT Discovery to automatically create sensors in Home Assistant
# 
# Make sure:
# 1. MQTT integration is enabled in Home Assistant
# 2. MQTT broker is accessible from the container
# 3. Discovery is enabled in your MQTT configuration:
#    
#    mqtt:
#      discovery: true
#      discovery_prefix: homeassistant
#
# The following sensors will be auto-created:
#   - sensor.ryde_waste_general (General Waste Collection)
#   - sensor.ryde_waste_recycling (Recycling Collection)
#   - sensor.ryde_waste_garden (Garden Organics Collection)
#
# Each sensor includes attributes:
#   - date: ISO formatted date (YYYY-MM-DD)
#   - date_formatted: Original format (e.g., "Wed 21/1/2026")
#   - days_until: Days until collection
#   - upcoming: Boolean (true if within 7 days)
#   - color: red/yellow/green
#   - collection_type: Type of waste

# ==============================================================================
# NOTES
# ==============================================================================
# - Do NOT commit this file to version control (it may contain secrets!)
# - The .gitignore file excludes .env by default
# - MQTT is more reliable than REST API for container-based deployments
# - All sensors auto-register with Home Assistant via MQTT Discovery
# - No Home Assistant automations needed - container handles everything!
